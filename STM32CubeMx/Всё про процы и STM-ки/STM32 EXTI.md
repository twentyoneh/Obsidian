#EXTI(External Interrupt) — это контроллер внешних прерываний в микроконтроллерах STM32, который позволяет генерировать прерывания от внешних событий, таких как изменения состояния на входных пинах. Он используется для реагирования на различные внешние сигналы и события в реальном времени. Давайте рассмотрим основные аспекты и работу EXTI.
### Основные функции EXTI:

1. **Генерация прерываний по изменению состояния входных пинов:**
    
    - EXTI может генерировать прерывания на растущем, падающем или обоих фронтах сигнала.
    - Позволяет реагировать на изменения уровня на входных пинах.
2. **Прерывания по программируемым событиям:**
    
    - EXTI может также генерировать прерывания по программируемым событиям от различных периферийных устройств.
3. **Программируемое управление:**
    
    - EXTI контроллер поддерживает настройку масок для включения или отключения прерываний от конкретных линий.
    - Настройка триггеров (растущий, падающий фронт или оба).

### Архитектура и компоненты EXTI:

1. **Линии прерываний (Lines):**
    
    - EXTI контроллер имеет несколько линий прерываний (обычно до 16 линий), которые могут быть сопоставлены с конкретными GPIO пинами.
2. **Регистры маски (IMR - Interrupt Mask Register):**
    
    - Используется для включения или отключения прерываний от конкретных линий.
3. **Регистры триггеров (RTSR/FTSR - Rising/Falling Trigger Selection Register):**
    
    - Позволяют настроить триггер на растущий или падающий фронт сигнала для каждой линии.
4. **Регистры ожидания (PR - Pending Register):**
    
    - Отражают статус прерываний, которые были вызваны и ожидают обработки.
## Внешний контроллер прерываний EXTI
Основная работа по настройке запросов прерываний делится между NVIC и встроенными модулями микроконтроллера. Например, модуль таймера общего назначения может формировать один глобальный запрос на основе 7 разных событий. Для портов ввода/вывода, реализован отдельный контроллер внешних прерываний EXTI. Он позволяет разрешить запрос на обработку по конкретной линии, задать фронт срабатывания прерывания, сформировать программный запрос.![[Pasted image 20240710115115.png]]
## Регистры EXTI по ссылке https://mcucpu.ru/index.php/platformy-32-bit/stm32/150-preryvaniya-v-stm32

